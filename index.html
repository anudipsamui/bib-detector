<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>BIB Detector - Camera Test</title>
<script src="https://cdn.jsdelivr.net/npm/inferencejs@1.1.3"></script>
<script src="https://cdn.jsdelivr.net/npm/tesseract.js@5/dist/tesseract.min.js"></script>
<style>
video { width:90%; max-width:400px; border-radius:12px; margin-top:20px; display:none; }
button { margin:10px; padding:10px 20px; }
</style>
</head>
<body>

<h1>Camera Test</h1>
<button id="startBtn">Start Camera</button>
<video id="video" autoplay playsinline></video>

<script>
const video = document.getElementById('video');
const startBtn = document.getElementById('startBtn');

startBtn.addEventListener('click', async () => {
    try {
        const stream = await navigator.mediaDevices.getUserMedia({ video:{ facingMode:"environment" } });
        video.srcObject = stream;
        video.style.display = "block";
        await video.play();
        alert("Camera started successfully!");
    } catch(err) {
        alert("Camera failed: " + err.message);
        console.error(err);
    }
});
</script>

</body>
</html>
